[<- До підрозділу](README.md)		[Коментувати](#feedback)

# Апаратне забезпечення контролерів Modicon M241

## 1. Загальний огляд архітектури M241

### Призначення та типові застосування Modicon M241

Modicon M241 призначений для керування машинами та автономними машинними вузлами, де домінує дискретна логіка, керування рухом і жорсткі часові вимоги. Це PLC машинного класу, орієнтований не на процесну автоматизацію, а на безпосередню інтеграцію з механікою. Основне призначення M241:

- керування послідовностями роботи механізмів;
- обробка сигналів датчиків і формування керуючих команд для виконавчих пристроїв;
- генерація імпульсів, PWM і керування швидкісними подіями без окремих motion-контролерів;
- інтеграція приводів, HMI та периферії через промислові інтерфейси.

Типові області застосування:

- пакувальні машини та лінії;
- транспортери, сортувальні та подаючі механізми;
- дозуючі та фасувальні установки;
- машини з кроковими або сервоприводами початкового та середнього рівня;
- автономні машинні модулі у складі більших систем.

На рис.1 показана схема рішення Machine Automation від Schneider Electric, на якому показано вертикальну та горизонтальну сегментацію платформи — від програмного забезпечення до контролерів, I/O та safety.

![image-20260131113835219](mediam241/image-20260131113835219.png)

рис.1.

Платформа EcoStruxure Machine підтримує побудову машин різного класу складності — від компактних автономних рішень до високопродуктивних машин і ліній на базі PacDrive. При цьому зберігається єдина інженерна логіка та послідовність апаратних і програмних підходів. У цьому контексті Modicon M241 належить до класу логічних контролерів для модульних і розподілених машин, займаючи проміжне положення між компактними PLC та продуктивними motion-платформами.

Modicon M241 підтримує локальні модулі розширення серії TM3. Системи TM5 і TM7 не підтримуються цим контролером і застосовуються з продуктивнішими платформами Machine Automation.

### Апаратна структура контролера

Modicon M241 має компактний форм-фактор, у якому в одному корпусі об’єднані центральний процесор, джерело живлення, вбудовані входи та виходи, а також базові комунікаційні інтерфейси. Така побудова орієнтована на машинну автоматику і дозволяє безпосередньо інтегрувати контролер у шафу керування або безпосередньо в машину без додаткових базових модулів.



![image-20260131125559030](mediam241/image-20260131125559030.png)

рис.2. Контролера M241 без розширень

Розширення функціональності здійснюється модульно (рис.3). Для локального розширення використовуються модулі системи TM3, які підключаються безпосередньо до контролера по внутрішній шині. Такий підхід дозволяє нарощувати кількість входів і виходів, додавати спеціалізовані функції або реалізовувати окремі safety-рішення без зміни базової архітектури контролера.

Можливості логічних контролерів M241 можуть бути розширені за допомогою модулів розширення Modicon TM3 (рис.3):

- модулі дискретних входів і виходів, які дозволяють створювати конфігурації з кількістю до 488 дискретних входів і виходів. Ці модулі мають ті самі типи підключень, що й самі контролери;
- модулі аналогових входів і виходів, які дозволяють створювати конфігурації з кількістю до 112 аналогових входів і виходів (додатково ще 4 аналогові канали можуть бути додані за допомогою картриджів). Вони призначені, зокрема, для приймання сигналів датчиків положення, температури та швидкості, а також можуть використовуватися для керування перетворювачами частоти або будь-якими іншими пристроями з струмовим чи напруговим входом;
- експертні модулі для керування пускачами двигунів TeSys, які спрощують монтаж кола керування завдяки використанню з’єднань на базі кабелів RJ45;
- модулі функціональної безпеки, які спрощують підключення та можуть конфігуруватися в середовищі EcoStruxure Machine Expert.

![image-20260131124348439](mediam241/image-20260131124348439.png)

рис.3. Загальна архітектура M241: 1 - Модуль Ethernet-комутатора TM4ES4; 2 - Логічний контролер Modicon TM241CE; 3 - Модулі дисркетних входів і виходів; 4 - Модулі аналогових входів і виходів; 5 - Експертний модуль для керування пускачами двигунів TeSys; 6 - Модулі функціональної безпеки; 7 - Модулі розширення шини (передавач і приймач) та кабель розширення шини; 8 - Модуль сполучення шини TM3BC; 

Крім того, система розширення TM3 є гнучкою завдяки можливості віддаленого розміщення частини модулів TM3 у тій самій шафі або в іншій шафі на відстані до 5 м з використанням системи розширення шини. Система розширення Modicon TM3 є спільною для лінійок логічних контролерів Modicon M221, M241 і M251, а також для контролера Modicon M262 Logic/Motion. Це означає, що модель контролера може бути замінена на старшу без необхідності зміни модулів розширення.

Максимальна конфігурація локальних I/O: 7 модулів розширення Modicon TM3, підключених до логічного контролера Modicon M241.

![image-20260131184436840](mediam241/image-20260131184436840.png)

рис.4. Підключення модулів розширення

Максимальна конфігурація віддалених I/O: 14 модулів розширення Modicon TM3 (7 локальних модулів + 7 віддалених модулів) з використанням модулів розширення шини Modicon TM3 (передавач і приймач).

Модулі розширення шини передавача і приймача можуть використовуватися для:

- збільшення кількості модулів розширення, що підключаються до логічного контролера Modicon M241, з 7 до 14;
- віддаленого розміщення модулів розширення Modicon TM3 на відстані до 5 м.

Модулі передавача і приймача фізично з’єднуються між собою кабелем розширення шини з каталогу або будь-яким іншим кабелем Cat 5E типу F/UT довжиною до 5 м.

Комунікаційна архітектура M241 також передбачає інтеграцію в мережеві та розподілені системи. Контролер підтримує промислові інтерфейси для обміну даними з HMI, приводами, віддаленими модулями та іншими пристроями, що дозволяє будувати як локальні, так і мережеві машинні архітектури. 
Для створення розподілених I/O-островів у мережі Ethernet використовується модуль шинного з’єднувача Modicon TM3BC. Максимальна конфігурація: 14 модулів розширення Modicon TM3 (7 модулів + 7 модулів) з використанням системи розширення шини Modicon TM3 (модулі передавача і приймача). У мережі Ethernet один контролер Modicon M241 може обслуговувати до 16 розподілених I/O-островів на базі TM3BC, кожен з яких підтримує до 14 модулів TM3.

### Опції для контролерів Modicon M241

Modicon M241 підтримує низку опцій, які дозволяють адаптувати контролер до вимог конкретної машини без зміни базової апаратної архітектури (рис.5). Однією з таких опцій є промислова карта пам’яті SD TMASD1 ємністю 256 МБ. Вона використовується для резервного копіювання та перенесення прикладних програм, реєстрації технологічних даних, а також для оновлення вбудованого програмного забезпечення. Наявність карти пам’яті не є обов’язковою для роботи контролера, але суттєво спрощує сервісне обслуговування і підтримку машин.

![image-20260131132909489](mediam241/image-20260131132909489.png)

рис.5. Опції та підключення комунікаційних модулів

Додаткове розширення можливостей M241 реалізується за допомогою картриджів, які встановлюються безпосередньо на передню панель контролера без збільшення його габаритів. Залежно від моделі контролера може бути встановлено до двох картриджів. Картриджі введення і виведення дозволяють додати 2 аналогові входи (TMC4AI2), 2 аналогові виходи (TMC4AQ2) або 2 температурні канали (TMC4TI2) без використання зовнішніх модулів розширення. 

Окрему групу становлять прикладні картриджі, орієнтовані на конкретні типи машин. Картридж для підіймальних механізмів (TMC4HOIS01) забезпечує спеціалізовані 2 аналогові входи для роботи з тензодатчиками, а картридж для пакувальних машин (TMC4PACK01) — 2 аналогоів входи для задач керування температурою. Використання таких картриджів надає прямий доступ до відповідних прикладних функціональних блоків у середовищі Machine Expert і зменшує обсяг інженерної роботи при розробленні застосунку.

### Комунікаційні можливості

Логічні контролери M241 мають до п’яти вбудованих комунікаційних портів в залежності від моделі:

- порт програмування (USB mini-B) на кожному контролері;
- дві послідовні лінії: `SL1` (RJ45) і `SL2` (гвинтовий клемний блок), 
- один Ethernet-порт (`RJ45`) або Ethernet-порт (RJ45) разом із портом CANopen, залежно від моделі контролера.

**Порт програмування** з роз’ємом USB mini-B вбудований у кожен контролер M241 і призначений для зв’язку з ПК, на якому встановлено середовище EcoStruxure Machine Expert, з метою програмування, налагодження та технічного обслуговування. Крім того, цей порт дозволяє завантажувати прикладну програму або оновлювати вбудоване програмне забезпечення навіть у випадку, коли контролер не живиться від зовнішнього джерела.

Кожен контролер M241 має дві вбудовані **послідовні лінії зв’язку** (serial line). 

- Послідовна лінія `SL1` може бути налаштована як RS-232 або RS-485. Крім того, на роз’ємі RJ45 доступна напруга 5 В / 200 мА, що дозволяє живити панелі HMI Harmony STO або STU, Bluetooth-адаптер зв’язку TCSWAAC13FB або інші пристрої.

- Послідовна лінія `SL2` налаштована як RS-485.

Обидві лінії підтримують два найбільш поширені протоколи:

- Modbus ASCII/RTU у режимі Master або Slave;
- обмін символьними рядками (ASCII).

Контролери TM241CE мають вбудований **Ethernet-порт** RJ45 (10/100 Мбіт/с, MDI/MDIX) з підтримкою Modbus TCP Client/Server, EtherNet/IP Adapter/Originator, I/O Scanner (EtherNet/IP і  Modbus TCP), UDP, TCP, SQL Client, SNMP Client/Server V1 і V2, OPC UA Server, SNTP Client, DNS Client та протоколів EcoStruxure Machine. Також кожен контролер M241 має вбудований web-сервер і FTP Client/Server. Окрім адреси за замовчуванням, сформованої на основі MAC-адреси, IP-адреса контролера може бути призначена через DHCP- або BOOTP-сервер. Ethernet-порт також підтримує ті самі функції завантаження, оновлення і налагодження, що й порт програмування USB mini-B, за умови подавання живлення на контролер.

У всіх контролерах можливе підключення Ethernet-каналу за допомогою модуля TM4ES4 (рис.4), оптимізованого для підключення до мереж типу «Machine» або «Factory» (4 роз’єми RJ45). Для моделей TM241CE це буде друге підключення  Ethernet. На рис.5 показані приклади використання Ethernet.

Контролери TM241CEC24 мають вбудований порт **CANopen** для роботи в режимі CANopen-master. Архітектури на базі CANopen використовуються для розміщення модулів I/O якомога ближче до датчиків і виконавчих механізмів, що зменшує витрати на кабельне підключення і час монтажу, а також для обміну даними з такими пристроями, як перетворювачі частоти, сервоприводи тощо. Конфігуратор CANopen інтегрований у середовище EcoStruxure Machine Expert і може використовуватися для імпорту стандартних файлів опису пристроїв у форматі EDS.

На CANopen-порті логічних контролерів TM241CEC24 доступний протокол **SAE J1939** . Протокол SAE J1939 переважно застосовується у сфері комерційного транспорту для обміну даними між різними електронними блоками керування, встановленими в одному транспортному засобі, такими як двигун, трансмісія, гальмівна система, ретардер, панель приладів тощо. На рис.5 показані приклади використання CANopen. 

TM241 можуть бути **Profibus DP slave** використовуючи модулі TM4PDPS1. 

Комунікаційні модулі Modicon TM4 монтуються шляхом з’єднання з лівого боку контролера, при цьому для передавання даних і живлення використовується роз’єм розширення шини (рис.5). До логічних контролерів M241 може бути додано до трьох комунікаційних модулів з лівого боку.

![image-20260131135558337](mediam241/image-20260131135558337.png)

рис.6. Приклади комунікаційних архітектур M241

## Центральний блок з CPU

Логічні контролери M241 випускаються у двох форм-факторах: з 24 входами/виходами і з 40 входами/виходами. На рис.7 показаний зовнішній вигляд CPU з 40 виходами.  

![image-20260131172731672](mediam241/image-20260131172731672.png)

рис.7. Конструкція M241.

Конструкція CPU включає такі елементи (рис.6) 

1. Знімний гвинтовий клемний блок з трьома клемами для підключення живлення 24 В пост. струму або 100–240 В змінного струму (залежно від моделі).
2. Для контролерів TM241CEC24: роз’єм для підключення до машинної шини CANopen та SAE J1939 (гвинтовий клемний блок).
3. Для контролерів TM241CE: роз’єм RJ45 для підключення до мережі Ethernet з LED-індикаторами обміну даними та швидкості.
4. Роз’єм шини TM4: комунікаційна шина для підключення комунікаційних модулів TM4ppp.
5. QR-код для доступу до технічної документації контролера.
6. Порт послідовної лінії SL1 (RS-232 або RS-485): роз’єм RJ45.
7. Порт послідовної лінії SL2 (RS-485): гвинтовий клемний блок.
8. Підключення логічних входів 24 В пост. струму: знімні гвинтові клемні блоки (1).
9. Блок світлодіодної індикації, що відображає:
   - стан контролера та його компонентів (батарея, промислова SD-карта пам’яті);
   - стан вбудованих комунікаційних портів (CAN, послідовні лінії, Ethernet);
   - стан вбудованих входів і виходів.
10. Роз’єм шини TM3 для підключення модуля розширення Modicon TM3.

Під знімною кришкою розташовані елементи 11–15:

11) Перемикач Run/Stop.

12) Слот для промислової карти пам’яті SD.

13) Слот для резервної батареї.

14) Роз’єм USB mini-B для підключення програмувального термінала.

15) Слот(и) для картриджів введення/виведення або прикладних картриджів:

- один слот у TM241Cp24;
- два слоти у TM241Cp40.

16) Фіксатор для кріплення на 5-міліметрову симетричну DIN-рейку.

17) Підключення релейних або транзисторних логічних виходів через знімні гвинтові клемні блоки (1).

(1) Знімні клемні блоки з гвинтовими затискачами. Клемні блоки постачаються разом із контролером.

![](mediam241/TM221C16R-5-34-800x800.jpg)![](mediam241/TM221C16R-5-35-800x800.jpg)

рис.8. M241: вид знизу та згори









Входи та виходи, вбудовані в контролери M241, підключаються за допомогою знімних гвинтових клемних блоків, які постачаються разом з контролерами.

Кожен контролер M241 оснащений перемикачем Run/Stop.

У кожному контролері M241 передбачено слот для промислової карти пам’яті SD (Secure Digital).

Слот, інтегрований у кожен контролер M241, дозволяє встановити до двох картриджів таких типів:

- картриджі розширення аналогових входів або виходів;
- прикладні картриджі: для підіймальних механізмів або пакувальних машин.

Кожен логічний контролер M241 має QR-код для прямого доступу до його технічної документації.



вбудовані входи/виходи: типи, швидкі входи, PTO/PWM, обмеження;

комунікації: Ethernet, CANopen, serial line, USB, SD;

розширення: TM3/TM5, типові конфігурації для машин;

практичні акценти для лекції: на що звернути увагу студентам при виборі та підключенні.



## Автори


Теретичне заняття розробив  [Олександр Пупена](https://github.com/pupenasan). 

## Feedback

Якщо Ви хочете залишити коментар у Вас є наступні варіанти:

- [Обговорення у WhatsApp](https://chat.whatsapp.com/BRbPAQrE1s7BwCLtNtMoqN)
- [Обговорення в Телеграм](https://t.me/+GA2smCKs5QU1MWMy)
- [Група у Фейсбуці](https://www.facebook.com/groups/asu.in.ua)

Про проект і можливість допомогти проекту написано [тут](https://asu-in-ua.github.io/atpv/) 