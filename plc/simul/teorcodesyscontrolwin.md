[<- До підрозділу](README.md)	[CODESYS (загальні теми)](../../plc/codesys.md) 	[PLC MachineStruxure M241, M251, M262 та інші](../../plc/ecostruxuremachineexpert.md) 	[Коментувати](#feedback)

# CODESYS Control Win: теоретична частина 

## Загальні концепції

CODESYS Control Win SL перетворює ПК на універсальний високопродуктивний PLC з масштабованою продуктивністю залежно від його ресурсів. Система підходить для застосувань без жорстких вимог до реального часу; з доповненням CODESYS KNX SL використовується також у будівельній автоматизації. 

Підтримувані платформи для CODESYS Control Win - Windows 10 / 11 / IoT Enterprise 32/64 bit з багатоядерними CPU. Підтримуються версії Windows, які обслуговуються Microsoft. У межах екосистеми CODESYS існують runtime-системи не лише для Windows. Окрім CODESYS Control Win, доступні CODESYS Control for Linux (для промислових ПК та ARM-платформ), CODESYS Control for Raspberry Pi, а також runtime для різних вбудованих процесорних платформ і промислових контролерів виробників-партнерів. Крім того, CODESYS пропонує runtime для систем із властивостями реального часу, зокрема для Linux із RT-розширеннями та для спеціалізованих RTOS. Таким чином одна й та сама IEC 61131-3 програма може виконуватися на різних операційних системах, зберігаючи спільну архітектуру проєкту та інструмент розробки.

Runtime-система підтримує численні I/O-інтерфейси, зокрема дискретні входи/виходи, плати польових шин, а також інтегровані стеки протоколів IEC 61131-3. Промислові мережі конфігуруються безпосередньо в CODESYS Development System без використання додаткових інструментів.

Має наступні функціональність:

- Комунікація з CODESYS Development System
- Завантаження, керування та виконання прикладного коду, скомпільованого CODESYS у бінарному форматі
- Налагодження застосунку в середовищі CODESYS
- Керування I/O-системами та промисловими мережами
- Виконання додаткових компонентів
- Підтримка реманентних даних: жорсткий диск, flash-карта, SRAM-карта з батарейним буфером

Обмеження

- Немає «жорсткого» реального часу; властивості soft real-time, можливе перевищення часу циклу
- згідно офіційної документації не допускається використання в контейнерах або віртуальних машинах, однак на практиці на віртуальних машинах запускається

Ліцензування

Одна ліцензія на один пристрій: використовується на тому PLC/пристрої, де встановлено runtime. Ліцензія активується у програмному контейнері (soft container), пов’язаному з контролером. Альтернативно ліцензія може зберігатися на CODESYS Key (USB-dongle) і переноситися між контролерами.

Типи ліцензування:

- Application-based licensing: ліцензується розмір і функціональність IEC-застосунку
- Single device license: ліцензія для одного конкретного контролера

Без ліцензії програмне забезпечення працює в demo-режимі протягом двох годин, після чого потрібен ручний перезапуск.

## Комунікації

CODESYS Control Win надає великий спектр доступних комунікацій, зокрема:

- CODESYS OPC UA Server у повній версії для обміну даними

Разом із Runtime Package підтримуються:

- CODESYS CANopen Manager / Device
- CODESYS EtherCAT Master
- CODESYS EtherNet/IP Scanner / Adapter
- CODESYS J1939
- CODESYS Modbus TCP Master / Slave
- CODESYS Modbus Serial Master / Slave
- CODESYS PROFIBUS Master
- CODESYS PROFINET Controller / Device
- CODESYS Sercos III Master

Для деяких мереж потрібне встановлення Npcap. Продукт містить програмне забезпечення, розроблене Computer Systems Engineering Group at Lawrence Berkeley Laboratory.

## Опції продукту

Продукт може бути розширений платними опціями:

- CODESYS BACnet SL
- CODESYS KNX SL
- CODESYS Redundancy SL
- CODESYS SoftMotion SL
- CODESYS SoftMotion CNC+Robotics SL
- CODESYS TargetVisu
- CODESYS WebVisu

## Області застосування

CODESYS Control Win SL застосовують там, де потрібно перетворити промисловий ПК під управління PLC-логікою без спеціального апаратного контролера. Це корисно для автоматизації виробничих ліній, лабораторних стендів, симуляції процесів, тестування та промислових застосунків без жорстких реальних-часових обмежень, де важлива продуктивність ПК та гнучке програмування за стандартом IEC 61131-3. 

Завдяки підтримці стандартних промислових мереж та OPC UA, система використовується для обміну даними між програмами, інтеграції з SCADA/IIoT-системами, симуляції, тестування алгоритмів у середовищі Windows, а також для побудови SoftPLC-рішень у проектах, де потрібно швидко налаштувати контролер без спеціального апаратного PLC. 

Окрема сфера застосування — навчання. Control Win дає можливість здобувачам працювати з реальними мережевими протоколами, конфігурувати промислові мережі, налагоджувати комунікацію та тестувати проєкти без придбання фізичного PLC, використовуючи звичайний ПК з Windows.

Якщо в проєкті для розподіленої системи POU та GVL розміщені у вузлі Global, то вони стають спільною логічною основою для всіх цільових пристроїв у дереві проєкту. Далі ці самі програмні елементи можуть інстанціюватися як у реальних target-контролерах, так і в CODESYS Control Win.

У такій схемі Control Win використовується як програмний еквівалент одного з вузлів системи: до нього додаються необхідні комунікації, наприклад Modbus для доступу зі SCADA, і можна відлагоджувати взаємодію всієї системи в комплексі. При цьому зберігається єдина кодова база, а поведінка в runtime на ПК максимально наближена до поведінки на цільових пристроях.



Для закріплення матеріалу рекомендується пройти практичне заняття [Встановлення та робота з CODESYS Control Win: практичне заняття ](labcodesyscontrolwin.md)

## Джерела

1. https://store.codesys.com/en/codesys-control-win-sl-1.html
1. 

## Автори


Теоретичне заняття розробив [Олександр Пупена](https://github.com/pupenasan). 

## Feedback

Якщо Ви хочете залишити коментар у Вас є наступні варіанти:

- [Обговорення у WhatsApp](https://chat.whatsapp.com/BRbPAQrE1s7BwCLtNtMoqN)
- [Обговорення в Телеграм](https://t.me/+GA2smCKs5QU1MWMy)
- [Група у Фейсбуці](https://www.facebook.com/groups/asu.in.ua)

Про проект і можливість допомогти проекту написано [тут](https://asu-in-ua.github.io/atpv/)